@page "/"
@page "/index"

<PageTitle>Index</PageTitle>

<MudContainer Class="mt-16">
        <MudCard Elevation="3"> 
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Align="Align.Center" Typo="Typo.h3" Color="Color.Primary" >Todo list</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>
            @if(AllTodos is null)
            {
                <MudText Align="Align.Center" Typo="Typo.h4" Color="Color.Primary">Loading ...</MudText>
                <MudProgressLinear  Color="Color.Primary" Indeterminate="true" Size="Size.Large" Class="my-7"/>
            }
            else
            {
                @foreach(var todo in AllTodos)
                {
                    <MudList>
                        <MudListItem>
                            <MudCheckBox @bind-Checked="todo.IsCompleted" Size="Size.Large">@todo.Text</MudCheckBox>
                        </MudListItem>
                    </MudList>
                }
            }
            <MudList>
                <MudListItem>
                    <MudTextField @bind-Value="NewTodoText" Variant="Variant.Outlined" Label="Insert a new todo"></MudTextField>
                    <MudButton Variant="Variant.Text" StartIcon="@Icons.Sharp.AddCircle" Size="Size.Large" Color="Color.Success" OnClick="AddTodo">Add Todo</MudButton>
                </MudListItem>
            </MudList>
            <MudButton Style="background-color: red; color: white; width: 250px; height: 60px; text-align:center" Variant="Variant.Filled" OnClick="ResetDb">Reset db</MudButton>
            </MudCardContent>
    </MudCard>
</MudContainer>




