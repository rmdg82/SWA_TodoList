@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode=@_isDarkMode Theme=_theme/>
<MudDialogProvider CloseOnEscapeKey="true" FullWidth="true"/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Elevation="3">
        <MudText Typo="Typo.h5" Color="Color.Inherit">Blazor - Todo List</MudText>
        <MudSwitch ThumbIcon="@(_isDarkMode ==false ? @Icons.Material.Filled.DarkMode: @Icons.Material.Filled.LightMode)" ThumbIconColor="@Color.Primary" Class="ml-1" @bind-Checked="@_isDarkMode" Color="Color.Default" T="bool"/>
        <MudSpacer />
        @if (_isAuthenticated)
        {
            <MudIconButton Icon="@_icon" Color="Color.Inherit"></MudIconButton>
            <MudText Typo="Typo.h5" Color="Color.Inherit">@(IdentityDto?.ClientPrincipal?.UserDetails)</MudText>
            <MudTooltip Text="Logout">
                <MudIconButton Link="/.auth/logout" Icon="@Icons.Material.TwoTone.Logout" Color="Color.Inherit"></MudIconButton>
            </MudTooltip>
        }
        else
        {
            <MudIconButton Icon="@_icon" Color="Color.Inherit"></MudIconButton>
            <MudText Typo="Typo.h5" Color="Color.Inherit">Login</MudText>
        }
    </MudAppBar>
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

